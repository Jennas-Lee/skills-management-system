{% extends 'base.html' %}
{% load static %}
{% block contents %}
    {% if request.user.is_authenticated %}<h1 class="text-center mt-2">마이페이지</h1>
        <form action="{% url 'mypage' %}" method="POST">
            {% csrf_token %}
            {% if error %}
                <div class="alert alert-danger mt-2" role="alert">
                    {{ error }}
                </div>
            {% endif %}
            {% if success %}
                <div class="alert alert-success mt-2" role="alert">
                    {{ success }}
                </div>
            {% endif %}
            <div class="row mb-3">
                <label for="inputEmail" class="col-sm-3 col-form-label">Email</label>
                <div class="col-sm-9">
                    <input type="email" class="form-control" id="inputEmail" name="email"
                           value="{{ email }}">
                </div>
            </div>
            <div class="row mb-3">
                <label for="inputPassword" class="col-sm-3 col-form-label">Password</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" id="inputPassword"
                           name="password" value="{{ password }}">
                </div>
            </div>
            <div class="row mb-3">
                <label for="inputChangePassword" class="col-sm-3 col-form-label">Change Password</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" id="inputChangePassword"
                           name="change_password" value="{{ change_password }}">
                </div>
            </div>
            <div class="row mb-3">
                <label for="inputChangePasswordConfirm" class="col-sm-3 col-form-label">Change Password Confirm</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" id="inputChangePasswordConfirm"
                           name="change_password_confirm" value="{{ change_password_confirm }}">
                </div>
            </div>
            <div class="row mb-3">
                <label for="inputPasswordConfirm" class="col-sm-3 col-form-label">Name</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="inputPasswordConfirm"
                           name="name" value="{{ name }}">
                </div>
            </div>
            <div class="row mb-3">
                <label for="inputEditorMode" class="col-sm-3 col-form-label">Editor Mode</label>
                <div class="col-sm-9">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="mode" id="inputEditorModeWysiwyg"
                               value="0">
                        <label class="form-check-label" for="inputEditorModeWysiwyg">WYSIWYG</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="mode" id="inputEditorModeMarkdown"
                               value="1">
                        <label class="form-check-label" for="inputEditorModeMarkdown">Markdown</label>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary float-end">Sign up</button>
        </form>
    {% else %}
        <div class="alert alert-danger mt-4" role="alert">
            로그인이 필요합니다. <a href="{% url 'signin' %}" class="alert-link">로그인하기</a>
        </div>
    {% endif %}
{% endblock %}