{% extends 'index/base.html' %}
{% block contents %}
    {% if request.user.is_authenticated %}
        <h1 class="text-center">공지사항 글쓰기</h1>
        <div class="mb-3">
            <label for="inputTitle" class="form-label">제목</label>
            <input type="text" class="form-control" id="inputTitle" placeholder="제목은 30자까지 작성할 수 있습니다.">
        </div>
        <div class="mb-3">
            <label for="exampleFormControlTextarea1" class="form-label">내용</label>
            <div id="editor"></div>
        </div>
        <script>
            const { Editor } = toastui;
            const { chart } = Editor.plugin;

            {#const { chart, codeSyntaxHighlight, colorSyntax, tableMergedCell, uml } = Editor.plugin;#}

            const chartOptions = {
                minWidth: 100,
                maxWidth: 600,
                minHeight: 100,
                maxHeight: 300
            };

            const editor = new Editor({
                el: document.querySelector('#editor'),
                {#plugins: [[chart, chartOptions], [codeSyntaxHighlight, {highlighter: Prism}], colorSyntax, tableMergedCell, uml],#}
                plugins: [chart],
                previewStyle: 'vertical'
            });
        </script>
    {% else %}
        <div class="alert alert-danger mt-4" role="alert">
            로그인이 필요합니다. <a href="{% url 'signin' %}" class="alert-link">로그인하기</a>
        </div>
    {% endif %}
{% endblock %}